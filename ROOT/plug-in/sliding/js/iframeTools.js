(function(l,c,f,k){var d,a,i,g="@ARTDIALOG.DATA",h="@ARTDIALOG.OPEN",j="@ARTDIALOG.OPENER",m=c.name=c.name||"@ARTDIALOG.WINNAME"+(new Date).getTime(),b=c.VBArray&&!c.XMLHttpRequest;l(function(){!c.jQuery&&document.compatMode==="BackCompat"&&alert('artDialog Error: document.compatMode === "BackCompat"')});var e=f.top=function(){var n=c,o=function(p){try{var r=c[p].document;r.getElementsByTagName}catch(q){return false}return c[p].artDialog&&r.getElementsByTagName("frameset").length===0};if(o("top")){n=c.top}else{if(o("parent")){n=c.parent}}return n}();f.parent=e;d=e.artDialog;i=function(){return d.defaults.zIndex};f.data=function(q,n){var o=f.top,p=o[g]||{};o[g]=p;if(n){p[q]=n}else{return p[q]}return p};f.removeData=function(o){var n=f.top[g];if(n&&n[o]){delete n[o]}};f.through=a=function(){var n=d.apply(this,arguments);if(e!==c){f.list[n.config.id]=n}return n};e!==c&&l(c).bind("unload",function(){var o=f.list,p;for(var n in o){if(o[n]){p=o[n].config;if(p){p.duration=0}o[n].close();delete o[n]}}});f.open=function(t,p,F){p=p||{};var E,v,r,B,z,D,u,x,w,G=f.top,o="position:absolute;left:-9999em;top:-9999em;border:none 0;background:transparent",q="width:100%;height:100%;border:none 0";if(F===false){var n=(new Date()).getTime(),C=t.replace(/([?&])_=[^&]*/,"$1_="+n);t=C+((C===t)?(/\?/.test(t)?"&":"?")+"_="+n:"")}var y=function(){var J,L,H=v.content.find(".aui_loading"),I=E.config;r.addClass("aui_state_full");H&&H.hide();try{x=z.contentWindow;u=l(x.document);w=x.document.body}catch(K){z.style.cssText=q;I.follow?E.follow(I.follow):E.position(I.left,I.top);p.init&&p.init.call(E,x,G);p.init=null;return}J=I.width==="auto"?u.width()+(b?0:parseInt(l(w).css("marginLeft"))):I.width;L=I.height==="auto"?u.height():I.height;setTimeout(function(){z.style.cssText=q},0);E.size(J,L);I.follow?E.follow(I.follow):E.position(I.left,I.top);p.init&&p.init.call(E,x,G);p.init=null};var A={zIndex:i(),init:function(){E=this;v=E.DOM;B=v.main;r=v.content;z=E.iframe=G.document.createElement("iframe");z.src=t;z.name="Open"+E.config.id;z.style.cssText=o;z.setAttribute("frameborder",0,0);z.setAttribute("allowTransparency",true);D=l(z);E.content().appendChild(z);x=z.contentWindow;try{x.name=z.name;f.data(z.name+h,E);f.data(z.name+j,c)}catch(H){}D.bind("load",y)},close:function(){D.css("display","none").unbind("load",y);if(p.close&&p.close.call(this,z.contentWindow,G)===false){return false}r.removeClass("aui_state_full");D[0].src="about:blank";D.remove();try{f.removeData(z.name+h);f.removeData(z.name+j)}catch(H){}}};if(typeof p.ok==="function"){A.ok=function(){return p.ok.call(E,z.contentWindow,G)}}if(typeof p.cancel==="function"){A.cancel=function(){return p.cancel.call(E,z.contentWindow,G)}}delete p.content;for(var s in p){if(A[s]===k){A[s]=p[s]}}return a(A)};f.open.api=f.data(m+h);f.opener=f.data(m+j)||c;f.open.origin=f.opener;f.close=function(){var n=f.data(m+h);n&&n.close();return false};f.max=function(){var n=f.data(m+h);n&&n._maxWin();return false};f.min=function(){var n=f.data(m+h);n&&n._minWin();return false};e!=c&&l(document).bind("mousedown",function(){var n=f.open.api;n&&n.focus(true)});f.load=function(s,r,p){p=p||false;var o=r||{};var q={zIndex:i(),init:function(u){var v=this,t=v.config;l.ajax({url:s,success:function(w){v.content(w);o.init&&o.init.call(v,u)},cache:p})}};delete r.content;for(var n in o){if(q[n]===k){q[n]=o[n]}}return a(q)};f.alert=function(n){return a({id:"Alert",zIndex:i(),icon:"warning",fixed:true,lock:true,max:false,min:false,content:n,ok:true})};f.success=function(n){return a({id:"success",zIndex:i(),icon:"succeed",fixed:true,lock:true,max:false,min:false,content:n,ok:true,init:function(){var o=this,p=3;var q=function(){o.title(p+"\u7ec9\u6391\u6097\u934f\u62bd\u68f4");!p&&o.close();p--};timer=setInterval(q,1000);q()},close:function(){clearInterval(timer)}})};f.error=function(n){return a({id:"error",zIndex:i(),icon:"error",fixed:true,lock:true,max:false,min:false,content:n,ok:true,init:function(){var o=this,p=3;var q=function(){o.title(p+"\u7ec9\u6391\u6097\u934f\u62bd\u68f4");!p&&o.close();p--};timer=setInterval(q,1000);q()},close:function(){clearInterval(timer)}})};f.confirm=function(p,o,n){return a({id:"Confirm",zIndex:i(),icon:"question",fixed:true,lock:true,max:false,min:false,opacity:0.1,content:p,ok:function(q){return o.call(this,q)},cancel:function(q){return n&&n.call(this,q)}})};f.confirmSuccess=function(p,o,n){return a({id:"ConfirmSuccess",zIndex:i(),icon:"warning",fixed:false,lock:false,max:false,min:false,opacity:0.1,content:p,ok:function(q){return o.call(this,q)}})};f.prompt=function(q,o,n){n=n||"";var p;return a({id:"Prompt",zIndex:i(),icon:"question",fixed:true,lock:true,max:false,min:false,opacity:0.1,content:['<div style="margin-bottom:5px;font-size:12px">',q,"</div>","<div>",'<input value="',n,'" style="width:18em;padding:6px 4px" />',"</div>"].join(""),init:function(){p=this.DOM.content.find("input")[0];p.select();p.focus()},ok:function(r){return o&&o.call(this,p.value,r)},cancel:true})};f.tips=function(n,o){return a({id:"Tips",zIndex:i(),title:false,cancel:false,fixed:true,lock:false}).content('<div style="padding: 0 1em;">'+n+"</div>").time(o||1.5)};l(function(){var r=f.dragEvent;if(!r){return}var n=l(c),t=l(document),o=b?"absolute":"fixed",s=r.prototype,p=document.createElement("div"),q=p.style;q.cssText="display:none;position:"+o+";left:0;top:0;width:100%;height:100%;cursor:move;filter:alpha(opacity=0);opacity:0;background:#FFF";document.body.appendChild(p);s._start=s.start;s._end=s.end;s.start=function(){var w=f.focus.DOM,u=w.main[0],v=w.content[0].getElementsByTagName("iframe")[0];s._start.apply(this,arguments);q.display="block";q.zIndex=f.defaults.zIndex+3;if(o==="absolute"){q.width=n.width()+"px";q.height=n.height()+"px";q.left=t.scrollLeft()+"px";q.top=t.scrollTop()+"px"}};s.end=function(){var u=f.focus;s._end.apply(this,arguments);q.display="none";if(u){u.DOM.main[0].style.visibility="visible"}}})})(window.jQuery||window.art,this,this.artDialog);