(function(){function h(a){for(var b=a.length;b--;){typeof a[b]==="number"&&(a[b]=Math.round(a[b])-0.5)}return a}var r=Highcharts,k=r.Chart,n=r.addEvent,x=r.removeEvent,z=r.createElement,B=r.discardElement,D=r.css,C=r.merge,t=r.each,u=r.extend,y=Math.max,s=document,A=window,v=s.documentElement.ontouchstart!==void 0,g=r.getOptions();u(g.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"});g.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:v?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#F7F7F7"],[0.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}};g.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}};u(k.prototype,{getSVG:function(c){var e=this,b,d,f,a=C(e.options,c);if(!s.createElementNS){s.createElementNS=function(i,j){return s.createElement(j)}}c=z("div",null,{position:"absolute",top:"-9999em",width:e.chartWidth+"px",height:e.chartHeight+"px"},s.body);u(a.chart,{renderTo:c,forExport:!0});a.exporting.enabled=!1;a.chart.plotBackgroundImage=null;a.series=[];t(e.series,function(i){f=C(i.options,{animation:!1,showCheckbox:!1,visible:i.visible});if(!f.isInternal){if(f&&f.marker&&/^url\(/.test(f.marker.symbol)){f.marker.symbol="circle"}a.series.push(f)}});b=new Highcharts.Chart(a);t(["xAxis","yAxis"],function(i){t(e[i],function(m,o){var p=b[i][o],j=m.getExtremes(),l=j.userMin,j=j.userMax;(l!==void 0||j!==void 0)&&p.setExtremes(l,j,!0,!1)})});d=b.container.innerHTML;a=null;b.destroy();B(c);d=d.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(i){return i.toLowerCase()});d=d.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'");d.match(/ xmlns="/g).length===2&&(d=d.replace(/xmlns="[^"]+"/,""));return d},exportChart:function(b,c){var d,a=this.getSVG(C(this.options.exporting.chartOptions,c)),b=C(this.options.exporting,b);d=z("form",{method:"post",action:b.url,enctype:"multipart/form-data"},{display:"none"},s.body);t(["filename","type","width","svg"],function(e){z("input",{type:"hidden",name:e,value:{filename:b.filename||"chart",type:b.type,width:b.width,svg:a}[e]},null,d)});d.submit();B(d)},print:function(){var c=this,e=c.container,b=[],d=e.parentNode,f=s.body,a=f.childNodes;if(!c.isPrinting){c.isPrinting=!0,t(a,function(i,j){if(i.nodeType===1){b[j]=i.style.display,i.style.display="none"}}),f.appendChild(e),A.print(),setTimeout(function(){d.appendChild(e);t(a,function(i,j){if(i.nodeType===1){i.style.display=b[j]}});c.isPrinting=!1},1000)}},contextMenu:function(w,b,c,d,e,j){var p=this,l=p.options.navigation,m=l.menuItemStyle,a=p.chartWidth,f=p.chartHeight,i="cache-"+w,q=p[i],E=y(e,j),F,o;if(!q){p[i]=q=z("div",{className:"highcharts-"+w},{position:"absolute",zIndex:1000,padding:E+"px"},p.container),F=z("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},l.menuStyle),q),o=function(){D(q,{display:"none"})},n(q,"mouseleave",o),t(b,function(G){if(G){var H=z("div",{onmouseover:function(){D(this,l.menuItemHoverStyle)},onmouseout:function(){D(this,m)},innerHTML:G.text||p.options.lang[G.textKey]},u({cursor:"pointer"},m),F);H[v?"ontouchstart":"onclick"]=function(){o();G.onclick.apply(p,arguments)};p.exportDivElements.push(H)}}),p.exportDivElements.push(F,q),p.exportMenuWidth=q.offsetWidth,p.exportMenuHeight=q.offsetHeight}w={display:"block"};c+p.exportMenuWidth>a?w.right=a-c-e-E+"px":w.left=c-E+"px";d+j+p.exportMenuHeight>f?w.bottom=f-d-E+"px":w.top=d+j-E+"px";D(q,w)},addButton:function(o){function q(){a.attr(p);E.attr(l)}var b=this,c=b.renderer,d=C(b.options.navigation.buttonOptions,o),e=d.onclick,i=d.menuItems,j=d.width,m=d.height,E,a,f,o=d.borderWidth,l={stroke:d.borderColor},p={stroke:d.symbolStroke,fill:d.symbolFill},w=d.symbolSize||12;if(!b.exportDivElements){b.exportDivElements=[],b.exportSVGElements=[]}d.enabled!==!1&&(E=c.rect(0,0,j,m,d.borderRadius,o).align(d,!0).attr(u({fill:d.backgroundColor,"stroke-width":o,zIndex:19},l)).add(),f=c.rect(0,0,j,m,0).align(d).attr({id:d._id,fill:"rgba(255, 255, 255, 0.001)",title:b.options.lang[d._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){a.attr({stroke:d.hoverSymbolStroke,fill:d.hoverSymbolFill});E.attr({stroke:d.hoverBorderColor})}).on("mouseout",q).on("click",q).add(),i&&(e=function(){q();var F=f.getBBox();b.contextMenu("export-menu",i,F.x,F.y,j,m)}),f.on("click",function(){e.apply(b,arguments)}),a=c.symbol(d.symbol,d.symbolX-w/2,d.symbolY-w/2,w,w).align(d,!0).attr(u(p,{"stroke-width":d.symbolStrokeWidth||1,zIndex:20})).add(),b.exportSVGElements.push(E,f,a))},destroyExport:function(){var a,b;for(a=0;a<this.exportSVGElements.length;a++){b=this.exportSVGElements[a],b.onclick=b.ontouchstart=null,this.exportSVGElements[a]=b.destroy()}for(a=0;a<this.exportDivElements.length;a++){b=this.exportDivElements[a],x(b,"mouseleave"),this.exportDivElements[a]=b.onmouseout=b.onmouseover=b.ontouchstart=b.onclick=null,B(b)}}});r.Renderer.prototype.symbols.exportIcon=function(b,c,d,a){return h(["M",b,c+d,"L",b+d,c+a,b+d,c+a*0.8,b,c+a*0.8,"Z","M",b+d*0.5,c+a*0.8,"L",b+d*0.8,c+a*0.4,b+d*0.4,c+a*0.4,b+d*0.4,c,b+d*0.6,c,b+d*0.6,c+a*0.4,b+d*0.2,c+a*0.4,"Z"])};r.Renderer.prototype.symbols.printIcon=function(b,c,d,a){return h(["M",b,c+a*0.7,"L",b+d,c+a*0.7,b+d,c+a*0.4,b,c+a*0.4,"Z","M",b+d*0.2,c+a*0.4,"L",b+d*0.2,c,b+d*0.8,c,b+d*0.8,c+a*0.4,"Z","M",b+d*0.2,c+a*0.7,"L",b,c+a,b+d,c+a,b+d*0.8,c+a*0.7,"Z"])};k.prototype.callbacks.push(function(b){var c,d=b.options.exporting,a=d.buttons;if(d.enabled!==!1){for(c in a){b.addButton(a[c])}n(b,"destroy",b.destroyExport)}})})();